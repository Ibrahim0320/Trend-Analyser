// prisma/schema.prisma
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Watchlist {
  id        String  @id @default(cuid())
  region    String
  keyword   String
  created_at DateTime @default(now())
  @@unique([region, keyword])
}

model ResearchRun {
  id           String   @id @default(cuid())
  region       String
  keywords_json String[] // Postgres TEXT[] for simplicity
  created_at   DateTime @default(now())
}

model Theme {
  id        String   @id @default(cuid())
  region    String
  label     String
  heat      Float
  momentum  Int
  payload   Json
  week_of   DateTime
  created_at DateTime @default(now())
  @@index([region, week_of])
}
